<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="demolition_robot">

  <!-- Properties -->
  <xacro:property name="PI" value="3.14159265359"/>

  <!-- Colors -->
  <material name="orange">
    <color rgba="1.0 0.5 0.0 1.0"/>
  </material>

  <material name="black">
    <color rgba="0.1 0.1 0.1 1.0"/>
  </material>

  <material name="yellow">
    <color rgba="1.0 1.0 0.0 1.0"/>
  </material>

  <!-- Base Link (Robot chassis) -->
  <link name="base_link">
    <visual>
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <geometry>
        <box size="1.2 0.8 0.3"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <geometry>
        <box size="1.2 0.8 0.3"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="500.0"/>
      <inertia ixx="100.0" ixy="0.0" ixz="0.0" iyy="100.0" iyz="0.0" izz="100.0"/>
    </inertial>
  </link>

  <!-- Track Left -->
  <link name="track_left_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.2 0.3"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.2 0.3"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="50.0"/>
      <inertia ixx="10.0" ixy="0.0" ixz="0.0" iyy="10.0" iyz="0.0" izz="10.0"/>
    </inertial>
  </link>

  <joint name="track_left_joint" type="continuous">
    <parent link="base_link"/>
    <child link="track_left_link"/>
    <origin xyz="0 0.5 0.05" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
  </joint>

  <!-- Track Right -->
  <link name="track_right_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.2 0.3"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.2 0.3"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="50.0"/>
      <inertia ixx="10.0" ixy="0.0" ixz="0.0" iyy="10.0" iyz="0.0" izz="10.0"/>
    </inertial>
  </link>

  <joint name="track_right_joint" type="continuous">
    <parent link="base_link"/>
    <child link="track_right_link"/>
    <origin xyz="0 -0.5 0.05" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
  </joint>

  <!-- Slew (rotation platform) -->
  <link name="slew_link">
    <visual>
      <origin xyz="0 0 0.2" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.4" length="0.4"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin xyz="0 0 0.2" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.4" length="0.4"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="100.0"/>
      <inertia ixx="20.0" ixy="0.0" ixz="0.0" iyy="20.0" iyz="0.0" izz="20.0"/>
    </inertial>
  </link>

  <joint name="slew_joint" type="continuous">
    <parent link="base_link"/>
    <child link="slew_link"/>
    <origin xyz="-0.2 0 0.3" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>

  <!-- Boom (Cylinder 1) -->
  <link name="boom_link">
    <visual>
      <origin xyz="0.6 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.2 0.15 0.15"/>
      </geometry>
      <material name="yellow"/>
    </visual>
    <collision>
      <origin xyz="0.6 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.2 0.15 0.15"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="80.0"/>
      <inertia ixx="10.0" ixy="0.0" ixz="0.0" iyy="10.0" iyz="0.0" izz="10.0"/>
    </inertial>
  </link>

  <joint name="boom_joint" type="revolute">
    <parent link="slew_link"/>
    <child link="boom_link"/>
    <origin xyz="0.3 0 0.4" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.57" upper="1.57" effort="1000.0" velocity="0.5"/>
  </joint>

  <!-- Stick (Cylinder 2) -->
  <link name="stick_link">
    <visual>
      <origin xyz="0.5 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.12 0.12"/>
      </geometry>
      <material name="yellow"/>
    </visual>
    <collision>
      <origin xyz="0.5 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="1.0 0.12 0.12"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="60.0"/>
      <inertia ixx="8.0" ixy="0.0" ixz="0.0" iyy="8.0" iyz="0.0" izz="8.0"/>
    </inertial>
  </link>

  <joint name="stick_joint" type="revolute">
    <parent link="boom_link"/>
    <child link="stick_link"/>
    <origin xyz="1.2 0 0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-2.0" upper="2.0" effort="800.0" velocity="0.5"/>
  </joint>

  <!-- Bucket (Cylinder 3) -->
  <link name="bucket_link">
    <visual>
      <origin xyz="0.3 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.6 0.4 0.3"/>
      </geometry>
      <material name="yellow"/>
    </visual>
    <collision>
      <origin xyz="0.3 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.6 0.4 0.3"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="40.0"/>
      <inertia ixx="5.0" ixy="0.0" ixz="0.0" iyy="5.0" iyz="0.0" izz="5.0"/>
    </inertial>
  </link>

  <joint name="bucket_joint" type="revolute">
    <parent link="stick_link"/>
    <child link="bucket_link"/>
    <origin xyz="1.0 0 0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-2.5" upper="1.0" effort="600.0" velocity="0.5"/>
  </joint>

  <!-- Outrigger Left -->
  <link name="outrigger_left_link">
    <visual>
      <origin xyz="0 0 -0.5" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.05" length="1.0"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin xyz="0 0 -0.5" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.05" length="1.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="20.0"/>
      <inertia ixx="2.0" ixy="0.0" ixz="0.0" iyy="2.0" iyz="0.0" izz="2.0"/>
    </inertial>
  </link>

  <joint name="outrigger_left_joint" type="prismatic">
    <parent link="base_link"/>
    <child link="outrigger_left_link"/>
    <origin xyz="0.3 0.6 0.15" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-0.8" upper="0.0" effort="500.0" velocity="0.3"/>
  </joint>

  <!-- Outrigger Right -->
  <link name="outrigger_right_link">
    <visual>
      <origin xyz="0 0 -0.5" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.05" length="1.0"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin xyz="0 0 -0.5" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.05" length="1.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="20.0"/>
      <inertia ixx="2.0" ixy="0.0" ixz="0.0" iyy="2.0" iyz="0.0" izz="2.0"/>
    </inertial>
  </link>

  <joint name="outrigger_right_joint" type="prismatic">
    <parent link="base_link"/>
    <child link="outrigger_right_link"/>
    <origin xyz="0.3 -0.6 0.15" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-0.8" upper="0.0" effort="500.0" velocity="0.3"/>
  </joint>

</robot>
